/* =========================
   ITSection.css (Pointy-top)
   ========================= */

/* 정육각형 사이즈/비율 */
:root {
  --hex-size: 15em; /* 가로 기준 크기 */
  --hex-aspect-pointy: 1.1547005; /* 2 / √3 */
}

/* 전체 컨테이너 (TSX 구조와 동일) */
.it-hex-container {
  width: 100%;
  max-width: 1000px;
  position: absolute;
  left: 15%;
  top: 50%;
  transform: translateY(-50%);
  z-index: 10;
}

/* 열 배치 (기존 even/odd 유지) */
ol {
  list-style: none;
  margin: 0;
  padding: 0;
}

ol.even {
  position: relative;
  left: 0;
}
ol.odd {
  position: relative;
  margin-top: -10%;
  margin-bottom: -10%;
  left: 8em; /* 반응형에서 아래에서 조금씩 줄여줌 */
}

/* 첫/마지막 열 미세 간격 */
ol.even:first-child {
  margin-bottom: 0.5em;
}
ol.even:last-child {
  margin-top: 0.5em;
}

/* =========================
   정육각형 본체 (뾰족탑)
   ========================= */
.it-hex {
  position: relative;
  display: inline-block;
  width: var(--hex-size);
  height: calc(var(--hex-size) * var(--hex-aspect-pointy));
  aspect-ratio: 1 / var(--hex-aspect-pointy);
  margin: 1em 6em 1em 0;
  overflow: hidden;
  background: #000;
  opacity: 0; /* 등장 전 */
  transform: scale(0.3); /* 등장 전 */
  transition:
    transform 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94),
    background 0.3s;
  cursor: pointer;
  border-radius: 2px; /* 살짝 라운드(선택) */
}

/* pointy-top 정육각형 clip-path */
.it-hex {
  clip-path: polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%);
}

/* 호버 효과: 회전 없이 스케일만 */
.it-hex:hover {
  background: #333;
  transform: scale(1.05);
}

/* 호버 이미지 (TSX 그대로 클래스 사용) */
.hex-hover-image {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
  opacity: 0;
  transition: opacity 0.3s ease-in-out;
  clip-path: inherit; /* 정육각형과 동일한 마스크 */
}
.hex-1:hover .hex-hover-image,
.hex-2:hover .hex-hover-image,
.hex-3:hover .hex-hover-image {
  opacity: 1;
}

/* 중앙 텍스트 (회전 제거) */
.hex-text {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  white-space: nowrap;
  font-size: 1.3em;
  font-weight: 700;
  color: #fff;
  z-index: 2;
  text-align: center;
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);
  transition:
    transform 0.3s,
    text-shadow 0.3s,
    opacity 0.3s;
}
.hex-1:hover .hex-text,
.hex-2:hover .hex-text,
.hex-3:hover .hex-text {
  text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.9);
  transform: translate(-50%, -50%) scale(1.08);
}

/* 포커스 접근성 */
.it-hex:focus-visible {
  outline: 2px solid #fff;
  outline-offset: 2px;
}

/* =========================
   등장 애니메이션 (TSX: first/second/third 클래스와 연동)
   ========================= */
@keyframes hexagonElegant {
  0% {
    opacity: 0;
    transform: scale(0.3);
    filter: blur(5px);
  }
  50% {
    opacity: 0.7;
    transform: scale(0.8);
    filter: blur(2px);
  }
  100% {
    opacity: 1;
    transform: scale(1);
    filter: blur(0);
  }
}

/* TSX에서 isVisible이면 ol에 first/second/third가 붙음 */
.first .it-hex {
  animation: hexagonElegant 1.2s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards
    0s;
}
.second .it-hex {
  animation: hexagonElegant 1.2s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards
    0.25s;
}
.third .it-hex {
  animation: hexagonElegant 1.2s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards
    0.5s;
}

/* =========================
   설명 텍스트 (TSX: description-* 클래스와 연동)
   ========================= */
.it-description-item {
  padding: 28px;
  background-color: #f9fafb;
  border-radius: 16px;
  border-left: 8px solid #3b82f6;
  margin-bottom: 24px;
  box-shadow: 0 6px 12px -2px rgba(0, 0, 0, 0.1);
}

@keyframes descriptionElegant {
  0% {
    opacity: 0;
    transform: translateX(-120px) scale(0.95);
    filter: blur(4px);
  }
  40% {
    opacity: 0.5;
    transform: translateX(-40px) scale(1.01);
    filter: blur(1px);
  }
  100% {
    opacity: 1;
    transform: translateX(0) scale(1);
    filter: blur(0);
  }
}

/* TSX에서 isVisible이면 해당 클래스가 붙음 */
.description-first p {
  opacity: 0;
  animation: descriptionElegant 0.9s ease forwards 0.9s;
}
.description-second p {
  opacity: 0;
  animation: descriptionElegant 0.9s ease forwards 1.1s;
}
.description-third p {
  opacity: 0;
  animation: descriptionElegant 0.9s ease forwards 1.3s;
}

/* =========================
   배경 별 효과 (TSX의 .stars, .stars2용 간단 버전)
   필요 없으면 이 섹션 지워도 됨
   ========================= */
.stars,
.stars2 {
  position: absolute;
  inset: 0;
  pointer-events: none;
  mix-blend-mode: screen;
  opacity: 0.25;
}
.stars {
  background:
    radial-gradient(2px 2px at 20% 30%, #fff, transparent 60%),
    radial-gradient(1.5px 1.5px at 70% 50%, #fff, transparent 60%),
    radial-gradient(1.8px 1.8px at 40% 80%, #fff, transparent 60%),
    radial-gradient(1.2px 1.2px at 85% 20%, #fff, transparent 60%);
  animation: twinkle 4s linear infinite;
}
.stars2 {
  background:
    radial-gradient(1.4px 1.4px at 15% 60%, #fff, transparent 60%),
    radial-gradient(1.6px 1.6px at 60% 35%, #fff, transparent 60%),
    radial-gradient(1.3px 1.3px at 80% 70%, #fff, transparent 60%),
    radial-gradient(1.7px 1.7px at 30% 15%, #fff, transparent 60%);
  animation: twinkle 5.5s linear infinite reverse;
}
@keyframes twinkle {
  0%,
  100% {
    opacity: 0.18;
    transform: translateY(0);
  }
  50% {
    opacity: 0.35;
    transform: translateY(-2%);
  }
}

/* =========================
   반응형
   ========================= */
@media (max-width: 1024px) {
  :root {
    --hex-size: 13em;
  }
  ol.odd {
    left: 4.5em;
    margin-top: -7%;
    margin-bottom: -7%;
  }
}
@media (max-width: 840px) {
  :root {
    --hex-size: 11.5em;
  }
  ol.odd {
    left: 3.5em;
  }
}
@media (max-width: 680px) {
  :root {
    --hex-size: 10em;
  }
  ol.odd {
    left: 2.2em;
    margin-top: -10%;
    margin-bottom: -10%;
  }
}
@media (max-width: 520px) {
  :root {
    --hex-size: 8.8em;
  }
  /* 필요 시 세로 스택 전환
  .it-hex-container { position: relative; left: 50%; transform: translate(-50%, -50%); }
  ol.odd { left: 0; margin: 0; }
  */
}

/* 다크 모드 대비 */
@media (prefers-color-scheme: dark) {
  .hex-text {
    color: #fff;
  }
}
